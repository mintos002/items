<div ng-include="'navbar.html'"></div>

<div class="container">
  <!-- Alerts -->
  <div class="alert alert-danger" ng-show="showAlertError"> {{ showAlertError }}</div>
  <div class="alert alert-success" ng-show="showAlertSuccess">{{showAlertSuccess}}</div>
</div>

<div class="container" ng-show="showSearch === true">
  <!-- search -->
</div>

<!-- Real Estate Listings -->
<div class="container">
  <div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="item in items | orderBy: '-_id'">
    <div class="thumbnail">
      <img ng-src="img/{{item.image}}.jpg" alt="" >
      <div class="caption">
        <!-- Conditionally hiden -->
        <div ng-hide="showDetails === true">
          <h3><i class="glyphicon glyphicon-tag"></i> {{item.price | currency}}</h3>
          <h4> {{item.title}} 
              <span class="label label-primary label-sm">{{item.type}}</span>
          </h4>

        </div>

        <button 
          class="btn btn-sm btn-success"
          ng-hide="showDetails === true"
          ng-click="showDetails = !showDetails">
          Details
        </button>

        <!-- Button to show owner -->
        <button
          class="btn btn-sm btn-warning btn-like"
          ng-hide="showDetails === true || loggedIn === false"
          ng-click="showOwner = !showOwner">
          Show the owner
        </button>

        <div class="listing-form-row" ng-show="showOwner">
          <label>Owner: <a href="mailto:{{item.owner}}">{{item.owner}}</a></label>
        </div>

        <button 
          class="btn btn-sm btn-danger"
          ng-show="showDetails === true"
          ng-click="showDetails = !showDetails">
          Close
        </button>

        <div class="details" ng-show="showDetails === true">
            <p>{{item.description}}</p>
        </div>

        <pre>{{item | json}}</pre>

      </div>
    </div>
  </div>
</div>